razor MiniBank\Views\Manager\OpenLoanAccount.cshtml
@{
    ViewBag.Title = "OpenLoanAccount";
    Layout = "~/Views/Shared/_LayoutPage1.cshtml";
}

<div class="container mt-4" style="max-width:600px">
    <h3>Open Loan Account</h3>

    <form method="post" class="mt-3">
        @Html.AntiForgeryToken()
        <div class="mb-3">
            <label class="form-label">Customer</label>
            @if (ViewBag.Customers != null)
            {
                <select name="customerId" class="form-select" required>
                    <option value="">-- Select customer --</option>
                    @foreach (var c in (IEnumerable<dynamic>)ViewBag.Customers)
                    {
                        <option value="@c.CustomerId">@c.CustName (@c.CustomerId)</option>
                    }
                </select>
            }
            else
            {
                <input type="number" name="customerId" class="form-control" placeholder="CustomerId" required />
            }
        </div>

        <div class="mb-3">
            <label class="form-label">Loan Amount</label>
            <input type="number" step="0.01" name="loanAmount" class="form-control" required />
        </div>

        <div class="mb-3">
            <label class="form-label">Tenure (months)</label>
            <input type="number" name="tenureMonths" class="form-control" required />
        </div>

        <div class="mb-3">
            <label class="form-label">Annual ROI (%)</label>
            <input type="number" step="0.01" name="annualROI" class="form-control" required />
        </div>

        <button class="btn btn-primary" type="submit">Create Loan Account</button>

        @* Display calculated EMI when available *@
        @if (ViewBag.EMI != null)
        {
            <div class="mt-3 alert alert-success">
                <strong>EMI calculated:</strong> ₹@((decimal)ViewBag.EMI).ToString("F2"))
              
            </div>
        }

        <div class="mt-3 text-success">@ViewBag.Message</div>
        <div class="mt-3 text-danger">@ViewBag.Error</div>
    </form>
</div>